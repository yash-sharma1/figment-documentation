"use strict";(self.webpackChunkfigment_documentation=self.webpackChunkfigment_documentation||[]).push([[5525],{2750:(e,t,a)=>{a.d(t,{ZP:()=>c});var n=a(7462),r=(a(7294),a(3905)),o=a(5488),s=a(5162),i=a(7643);const l={toc:[{value:"Authentication",id:"authentication",level:3}]};function c(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},l,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h3",{id:"authentication"},"Authentication"),(0,r.kt)("div",null,"API calls require authentication with API key via ",(0,r.kt)("code",null,"Authorization")," ","request header or ",(0,r.kt)("code",null,"URL")," property. Calls are made to the"," ",(0,r.kt)("strong",null,a.network," ",a.service)," ","endpoint, hosted at ",(0,r.kt)("code",null,a.url),(0,r.kt)("br",null),(0,r.kt)("br",null)),"Here's some boilerplate to get you started."," ",(0,r.kt)(o.Z,{mdxType:"Tabs"},(0,r.kt)(s.Z,{value:"js-header",label:"Fetch with Header",mdxType:"TabItem"},(0,r.kt)(i.Z,{language:"js",mdxType:"CodeBlock"},`fetch("${a.url}${a.route}", {\n    method: 'POST', // can also be 'GET', 'PUT' or any appropriate method\n    headers: {\n        "Authorization" : "<api_key>",\n        "Content-Type": "application/json" // if method is 'POST'\n    },\n    body: JSON.stringify({\n      // JSON Payload\n    })\n})`)),(0,r.kt)(s.Z,{value:"js-parameter",label:"Fetch with Parameter",mdxType:"TabItem"},(0,r.kt)(i.Z,{language:"js",mdxType:"CodeBlock"},`fetch("${a.url}/apikey/{{apikey}}${a.route}", {\n    method: 'POST', // can also be 'GET', 'PUT' or any appropriate method\n    headers: {\n        "Content-Type": "application/json" // if method is 'POST'\n    },\n    body: JSON.stringify({\n      // JSON Payload\n    })\n})`)),(0,r.kt)(s.Z,{value:"curl-header",label:"CURL with Header",mdxType:"TabItem"},(0,r.kt)(i.Z,{language:"bash",mdxType:"CodeBlock"},`curl -X POST '${a.url}${a.route}' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: <api_key>' \\\n--data '{\n  // JSON Payload\n}'`)),(0,r.kt)(s.Z,{value:"curl-parameter",label:"CURL with Parameter",mdxType:"TabItem"},(0,r.kt)(i.Z,{language:"bash",mdxType:"CodeBlock"},`curl -X POST '${a.url}/apikey/{{apikey}}${a.route}' \\\n--header 'Content-Type: application/json' \\\n--data '{\n  // JSON Payload\n}'`))))}c.isMDXComponent=!0},3976:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(7294),r=a(6550);function o(e){let{network:t,networks:a,methods:o,service:s}=e;const i=(0,r.TH)(),l=(0,r.k6)();return n.createElement("div",null,n.createElement("label",null,"Change Network: "),n.createElement("select",{className:"custom-select",defaultValue:t,onChange:e=>{l.push(i.pathname.replace(/\/[^\/]+$/,`/${e.target.value}`))}},a.map((e=>n.createElement("option",{key:`${e.value}--n-option`,value:e.value},e.label)))),n.createElement("label",null," Jump to: "),n.createElement("select",{className:"custom-select",defaultValue:i.hash.replace("#","")||"",onChange:e=>{l.push(`#${e.target.value}`)}},o.map((e=>n.createElement("option",{key:`${e.name}--m-hash`,value:e.name.toLowerCase()},e.name)))))}},7297:(e,t,a)=>{a.d(t,{Z:()=>r});var n=a(7294);function r(e){let{network:t,service:a}=e;return(0,n.useEffect)((()=>{const e=document.querySelector(".breadcrumbs__item.breadcrumbs__item--active");if(!e)return;e.querySelector("span.breadcrumbs__link").innerHTML=t;let n=e.previousElementSibling;n=n.cloneNode(!0),n.querySelector(".breadcrumbs__link span").innerHTML=a.label,n.querySelector(".breadcrumbs__link").href=a.link,e.insertAdjacentElement("beforebegin",n)}),[t]),n.createElement(n.Fragment,null)}},3213:(e,t,a)=>{a.d(t,{S:()=>N});var n=a(7462),r=a(7294),o=a(8538),s=a(7748),i=a(460),l=a.n(i),c=a(3746),d=a(6412);const u={Header:"Header_JfB9",blinker:"blinker_fwXa",Actions:"Actions_tjtQ",Container:"Container_SXTI",Editor:"Editor_gTle",Line:"Line_F8ZC",Code:"Code_xj0a"};function p(e){let{children:t="",header:a,actions:o,disabled:s=!1,status:i,onValueChange:p}=e;const h=(0,d.p)(),y=(0,r.useRef)(null);(0,r.useEffect)((()=>{var e;const t=null==(e=y.current)?void 0:e.querySelector("textarea"),a=e=>{const t=e.target;t.style.width=t.scrollWidth+"px"};return t.addEventListener("input",a),()=>t.removeEventListener("input",a)}),[]);return r.createElement("div",{ref:y},r.createElement(m,{actions:o,status:i},a),r.createElement("div",{className:u.Container},r.createElement(l(),{value:t,onValueChange:p,highlight:function(e){return void 0===e&&(e=""),r.createElement(c.ZP,(0,n.Z)({},c.lG,{theme:h,code:e,language:"json"}),(e=>{let{className:t,style:a,tokens:o,getLineProps:s,getTokenProps:i}=e;return r.createElement("div",{className:u.Code},o.map(((e,t)=>r.createElement("div",(0,n.Z)({key:t},s({line:e,key:t}),{className:u.Line}),r.createElement("span",{className:u.LineContent},e.map(((e,t)=>r.createElement("span",(0,n.Z)({key:t},i({token:e,key:t}))))))))))}))},disabled:s,ignoreTabKey:!0,padding:10,style:{...h.plain,overflow:"auto"},className:u.Editor})))}function m(e){let{children:t,actions:a=[],status:n}=e;return r.createElement("div",{className:u.Header,"data-status":n},r.createElement("span",null,t),r.createElement("span",{className:u.Actions},a.map(((e,t)=>{let{title:a,onClick:n,Component:o=a}=e;return r.createElement("button",{className:u.HeaderButton,key:`${t}:${a}`,title:a,onClick:n},o)}))))}var h=a(195);const y="overlayHeaderButton_IGf5";const b=function(e,t){const a=(0,r.useRef)(!1),n={error:void 0,data:void 0,loading:!1},[o,s]=(0,r.useReducer)(((e,t)=>{switch(t.type){case"loading":return{...n,loading:!0};case"fetched":return{...n,data:t.payload,loading:!1};case"error":return{...n,error:t.payload,loading:!1};default:return e}}),n);return{...o,fetchData:async function(n,r){void 0===r&&(r={}),s({type:"loading"});try{const o=await fetch(e+(n?`/${n}`:""),{...t,...r});if(!o.ok){let e,t,a;try{a=JSON.parse(await o.text()),e=await o.json(),t=JSON.stringify(e,null,2)}catch{}throw new Error(JSON.stringify(t,null,2)||JSON.stringify(a,null,2)||o.statusText)}const i=await o.json();if(a.current)return;return s({type:"fetched",payload:i}),i}catch(o){if(a.current)return;return s({type:"error",payload:o.message}),null}}}};var f,w=a(7643),k=a(4672);function v(){return v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},v.apply(this,arguments)}const g=e=>{let{title:t,titleId:a,...n}=e;return r.createElement("svg",v({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":a},n),t?r.createElement("title",{id:a},t):null,f||(f=r.createElement("path",{d:"m10 16.5 6-4.5-6-4.5v9ZM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2Zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8Z",fill:"#0C3F5C"})))};var T;function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},S.apply(this,arguments)}const x=e=>{let{title:t,titleId:a,...n}=e;return r.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":a},n),t?r.createElement("title",{id:a},t):null,T||(T=r.createElement("path",{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35Z",fill:"#0C3F5C"})))};function E(e){let{req:t,res:a,interactive:n,endpoint:o}=e;const[s,i]=(0,r.useState)(C(t.body)),[l,c]=(0,r.useState)(t.query),[d,u]=(0,r.useState)(R(a.body)),m="string"==typeof t.body&&0==t.body.indexOf("query"),{data:f,error:v,loading:T,fetchData:S}=b(o,{method:t.method,headers:{...t.headers,"Content-Type":m?"application/graphql":"application/json"},body:C(t.body)}),[E,O]=(0,r.useState)(null);(0,r.useEffect)((()=>{T?O("LOADING"):v||null!=f&&f.error?O("ERROR"):f&&O("SUCCESS")}),[f,v,T]);const L=[n?{title:"Run request",onClick:async()=>{const e=await S(l,{body:s});e&&u(R(e))},Component:r.createElement(r.Fragment,null,r.createElement(g,null)," Run")}:null,{title:"Copy",onClick:()=>(0,h.Z)(s),Component:r.createElement(k.Z,{code:"",className:y})},n?{title:"Reset",onClick:()=>{O(null),c(t.query),i(C(t.body)),u(R(a.body))},Component:r.createElement(x,null)}:null].filter((e=>!!e));return r.createElement(r.Fragment,null,r.createElement(p,{header:"GET"===t.method?"Request Query "+(n?"(try it)":""):"Request Body "+(n?"(try it)":""),actions:L,disabled:!n,onValueChange:e=>{n&&("GET"===t.method?c(e):"POST"===t.method&&i(e))}},"GET"===t.method?l:s),r.createElement(w.Z,{title:E?"Response":"Example Response",language:"json"},v?`${v}`:d))}function R(e){return JSON.stringify(e,null,2)}function C(e){return"string"==typeof e?e:JSON.stringify(e,null,2)}const O="heading_REER";var L=a(9960),P=a(3905);const _={toc:[]};function Z(e){let{components:t,...a}=e;return(0,P.kt)("wrapper",(0,n.Z)({},_,a,{components:t,mdxType:"MDXLayout"}),(0,P.kt)("details",{open:a.accordionOpen?"open":void 0},(0,P.kt)("summary",null,(0,P.kt)("span",{className:"open"},"Specification"),(0,P.kt)("span",{className:"closed"},"View Specification")),(0,P.kt)(o.D,{mdxType:"ReactMarkdown"},a.details)))}function A(e){let{name:t,content:a="",interactive:n,request:s,accordionOpen:i=!1,response:l,endpoint:c}=e;["Rewards (by epoch)","Rewards (daily)"].includes(t)&&(s.body={...s.body,start_time:new Date(Date.now()-("Rewards (by epoch)"===t?1728e5:864e5)).toISOString().split("T")[0],end_time:(new Date).toISOString().split("T")[0]});const[d,...u]=a.trim().split(/\n+/),p=u.join("\n");return r.createElement(r.Fragment,null,r.createElement("h2",{id:t.toLowerCase(),className:O,"data-method":s.method},r.createElement(L.Z,{to:`#${t.toLowerCase()}`},t)),r.createElement(o.D,null,d),r.createElement(E,{req:s,res:l,interactive:n,endpoint:c}),r.createElement(Z,{details:p,accordionOpen:i}),r.createElement("hr",null))}function N(e){let{network:t,methods:a,service:o,proxy:i}=e;return r.createElement(r.Fragment,null,r.createElement("h3",null,"Available Methods"),a.map(((e,a)=>r.createElement(A,(0,n.Z)({key:t+a},e,{endpoint:`${i}/${o}/${t}`,accordionOpen:"node-api"!==o})))),r.createElement(s.Z,null))}Z.isMDXComponent=!0},6956:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>u,contentTitle:()=>c,default:()=>h,frontMatter:()=>l,metadata:()=>d,toc:()=>p});var n=a(7462),r=(a(7294),a(3905)),o=a(3213),s=a(3976),i=(a(7297),a(2750));const l={title:"Solana",sidebar_position:0,pagination_prev:null,pagination_next:null,collapsed:!0,collapsible:!0,description:"Rewards API - Solana",image:"img/logo.svg",keywords:["Rewards API","Solana"]},c="Rewards API - Solana",d={unversionedId:"api-reference/rewards-api/solana",id:"api-reference/rewards-api/solana",title:"Solana",description:"Rewards API - Solana",source:"@site/docs/api-reference/rewards-api/solana.mdx",sourceDirName:"api-reference/rewards-api",slug:"/api-reference/rewards-api/solana",permalink:"/api-reference/rewards-api/solana",draft:!1,tags:[],version:"current",sidebarPosition:0,frontMatter:{title:"Solana",sidebar_position:0,pagination_prev:null,pagination_next:null,collapsed:!0,collapsible:!0,description:"Rewards API - Solana",image:"img/logo.svg",keywords:["Rewards API","Solana"]},sidebar:"docsSidebar"},u={},p=[],m={toc:p};function h(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"rewards-api---solana"},"Rewards API - Solana"),(0,r.kt)(s.Z,{service:"rewards-api",methods:[{name:"Rewards for stake account (epoch)"},{name:"Rewards for system account (epoch)"}],networks:[{label:"Avalanche",value:"avalanche"},{label:"Ethereum",value:"ethereum"},{label:"NEAR",value:"near"},{label:"Polkadot",value:"polkadot"},{label:"Solana",value:"solana"}],network:"solana",mdxType:"ApiReferenceNav"}),(0,r.kt)(i.ZP,{url:"https://solana-rewards.datahub.figment.io",network:"Solana",service:"Rewards API",route:"/v2/rewards",mdxType:"MakingCalls"}),(0,r.kt)(o.S,{methods:[{name:"Rewards for stake account (epoch)",content:'Returns rewards (and balances) for all **stake accounts**. The response payload is broken down by epoch and by stake account. The **net rewards** are shown, meaning after the on-chain validator commission has been subtracted.\n\n### Parameters\n\n- `accounts` is an array of **stake account** addresses _(required)_\n- `start` and `end` can be either epochs (numbers) or timestamps (strings formatted like "YYYY-MM-DD") _(required)_\n    \n\n### Response\n\nThe response is broken down between `meta` and `data`\n\n- `meta`\n    - `network` is the name of the network queried\n    - `period_unit` is the unit of the `period` field under `data`: here it will be `epoch`\n- `data` is an array of objects - one for each epoch - containing:\n    - `validator` returns the validator that distributed the rewards\n    - `system_account` returns the system account that stake account was created from\n    - `period` is the epoch number\n    - `timestamp` is the timestamp at the end of the epoch\n    - `rewards` is an array of objects containing `numeric`, `exp`, `currency`, and `text`. The formula to compute the rewards in the `currency` unit is `numeric x 10^(-exp)`(`text` is the string version of this)\n    - `balances` is an array of objects containing `numeric`, `exp`, `currency`, and `text`.\n\n### Limitations\n\n- The API returns rewards for Figment validators only.\n- Data is available approximately an hour after the end of the day or epoch. When requesting daily for the current day, the data will be available but obviously partially complete as the day progresses.\n    \n\n### FAQ\n\n- Read more about [stake accounts](https://docs.solana.com/staking/stake-accounts) on the Solana Docs.',request:{method:"POST",header:[],body:{accounts:["2yoofMr4N78WPxVK8MU8Yy26dfRZbPw5WDzTRCA9uv95"],start:"363",end:"364"},url:"https://solana-rewards.datahub.figment.io",headers:{},query:""},interactive:!0,response:{name:"[SOL] Rewards for stake account (epoch)",status:"OK",code:200,body:{data:[{accounts:["2yoofMr4N78WPxVK8MU8Yy26dfRZbPw5WDzTRCA9uv95"],chain_id:"mainnet",rewards:[{text:"0.001346064 SOL",currency:"SOL",numeric:1346064,exp:9}],balances:[{text:"3.009411698 SOL",currency:"SOL",numeric:3009411698,exp:9}],period:"348",validator:"CcaHc2L43ZWjwCHART3oZoJvHLAe9hzT2DJNUpBzoTN1",timestamp:"2022-09-15T10:29:27Z",system_account:"EToJFrGakntRnwL8LLikLgXoAfBjgwYhwwYvfVRcrgLL"},{accounts:["2yoofMr4N78WPxVK8MU8Yy26dfRZbPw5WDzTRCA9uv95"],chain_id:"mainnet",rewards:[{text:"0.001351654 SOL",currency:"SOL",numeric:1351654,exp:9}],balances:[{text:"3.010763352 SOL",currency:"SOL",numeric:3010763352,exp:9}],period:"349",validator:"CcaHc2L43ZWjwCHART3oZoJvHLAe9hzT2DJNUpBzoTN1",timestamp:"2022-09-18T08:26:46Z",system_account:"EToJFrGakntRnwL8LLikLgXoAfBjgwYhwwYvfVRcrgLL"}],meta:{network:"solana",period_unit:"epoch"}}}},{name:"Rewards for system account (epoch)",content:'Returns rewards (and balances) for all **stake accounts** created from the provided system account. The response payload is broken down by epoch and by staking account. The **net rewards** are shown, meaning after the on-chain validator commission has been subtracted.\n\nParameters\n\n- `addresses` is an array of **system account** addresses _(required)_\n- `start` and `end` can be either epochs (numbers) or timestamps (strings formatted like "YYYY-MM-DD") _(required)_\n    \n\n### Response\n\nThe response is broken down between `meta` and `data`\n\n- `meta`\n    - `network` is the name of the network queried\n    - `period_unit` is the unit of the `period` field under `data`: here it will be `epoch`\n- `data` is an array of objects - one for each epoch and stake account - containing:\n    - `validator` returns the validator that distributed the rewards\n    - `system_account` returns the system account the stake account was created from\n    - `period` is the epoch number\n    - `timestamp` is the timestamp at the end of the epoch\n    - `rewards` is an array of objects containing `numeric`, `exp`, `currency`, and `text`. The formula to compute the rewards in the `currency` unit is `numeric x 10^(-exp)`(`text` is the string version of this)\n\n### Limitations\n\n- The API returns rewards for Figment validators only\n- Data is available approximately an hour after the end of the day or epoch. When requesting daily for the current day, the data will be available but obviously partially complete as the day progresses.\n\n### FAQ\n\n- Read more about [stake accounts](https://docs.solana.com/staking/stake-accounts) on the Solana Docs.',request:{method:"POST",header:[],body:{addresses:["4GCemsBJbwpG7AjczRw1YqG6BBpamAW75UkRtnmapqkF"],start:"363",end:"364"},url:"https://solana-rewards.datahub.figment.io/v2/rewards",headers:{},query:""},interactive:!0,response:{name:"[SOL] Rewards for system account (epoch)",status:"OK",code:200,body:{data:[{accounts:["DjJXYY52TnfEqXsb5WnxZR9Qxr3P5vZBMpW2Ju9TgDxX"],chain_id:"mainnet",rewards:[{text:"0.004431151 SOL",currency:"SOL",numeric:4431151,exp:9}],balances:[{text:"10.006714031 SOL",currency:"SOL",numeric:10006714031,exp:9}],period:"357",validator:"26pV97Ce83ZQ6Kz9XT4td8tdoUFPTng8Fb8gPyc53dJx",timestamp:"2022-10-10T14:35:56Z",system_account:"4GCemsBJbwpG7AjczRw1YqG6BBpamAW75UkRtnmapqkF"},{accounts:["DjJXYY52TnfEqXsb5WnxZR9Qxr3P5vZBMpW2Ju9TgDxX"],chain_id:"mainnet",rewards:[{text:"0.00444042 SOL",currency:"SOL",numeric:4440420,exp:9}],balances:[{text:"10.011154451 SOL",currency:"SOL",numeric:10011154451,exp:9}],period:"358",validator:"26pV97Ce83ZQ6Kz9XT4td8tdoUFPTng8Fb8gPyc53dJx",timestamp:"2022-10-13T08:03:23Z",system_account:"4GCemsBJbwpG7AjczRw1YqG6BBpamAW75UkRtnmapqkF"}],meta:{network:"solana",period_unit:"epoch"}}}}],service:"rewards-api",networks:[{label:"Avalanche",value:"avalanche"},{label:"Ethereum",value:"ethereum"},{label:"NEAR",value:"near"},{label:"Polkadot",value:"polkadot"},{label:"Solana",value:"solana"}],network:"solana",proxy:"https://api-service-proxy.paulpomerleau.workers.dev",mdxType:"APIMethods"}))}h.isMDXComponent=!0}}]);