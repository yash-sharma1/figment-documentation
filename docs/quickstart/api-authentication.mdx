---
title: API Authentication
sidebar_position: 4
---

import Tabs from "@theme/Tabs";
import Link from "@docusaurus/Link";
import TabItem from "@theme/TabItem";
import CodeBlock from "@theme/CodeBlock";

## Authentication

API Authentication is a process to validate the identity of the external source/client trying to establish a connection, using an authentication protocol. During the authentication process, credentials are sent from the client to the remote server in an encrypted format or in plain text format.

After successful authentication, the next step is **authorization**. Once the identity of the client is validated by the server, the client will be able to securely communicate with the remote server.

All Figment APIs require authentication, which is performed by passing your API key via the `Authorization` request header, or as a parameter in the query URL. Read more about <Link to="/guides/manage-and-secure-api-keys">API key best practices</Link>.

If your app makes any cross-origin requests, you must also have an [Allowed Origin](settings-and-security#allowed-origins) set in your DataHub app.

:::caution

To maintain the security of your API keys, we recommend you to always use <Link to="https://en.wikipedia.org/wiki/Transport_Layer_Security">Transport Layer Security</Link> (TLS), meaning [**WSS**](https://developers.cloudflare.com/workers/learning/using-websockets/) or [**HTTPS**](https://www.cloudflare.com/en-ca/learning/ssl/what-is-https/) protocols.

Keep in mind that traffic sent over **WS** or **HTTP** protocols are not secure, regardless of the method used.

:::

## Example

Here's an example to get you started.

<Tabs>
  <TabItem value="js-header" label="Fetch with Header">
    <CodeBlock language="js">
      {`fetch("https://erigon-mainnet--rpc-dbgtxn.datahub.figment.io/", {
    method: 'POST', // can also be 'GET', 'PUT' or any appropriate method
    headers: {
        "Authorization" : "<api_key>",
        "Content-Type": "application/json" // if method is 'POST'
    },
    body: JSON.stringify({
      // JSON Payload
    })
})`}
    </CodeBlock>
  </TabItem>
  <TabItem value="js-parameter" label="Fetch with Parameter">
    <CodeBlock language="js">
      {`fetch("https://erigon-mainnet--rpc-dbgtxn.datahub.figment.io/apikey/<api_key>/", {
    method: 'POST', // can also be 'GET', 'PUT' or any appropriate method
    headers: {
        "Content-Type": "application/json" // if method is 'POST'
    },
    body: JSON.stringify({
      // JSON Payload
    })
})`}
    </CodeBlock>
  </TabItem>
  <TabItem value="curl-header" label="CURL with Header">
    <CodeBlock language="bash">
      {`curl -X POST 'https://erigon-mainnet--rpc-dbgtxn.datahub.figment.io/' \\
--header 'Content-Type: application/json' \\
--header 'Authorization: <api_key>' \\
--data '{
  // JSON Payload
}'`}
    </CodeBlock>
  </TabItem>
  <TabItem value="curl-parameter" label="CURL with Parameter">
    <CodeBlock language="bash">
      {`curl -X POST 'https://erigon-mainnet--rpc-dbgtxn.datahub.figment.io/apikey/<api_key>/' \\
--header 'Content-Type: application/json' \\
--data '{
  // JSON Payload
}'`}
    </CodeBlock>
  </TabItem>
</Tabs>
